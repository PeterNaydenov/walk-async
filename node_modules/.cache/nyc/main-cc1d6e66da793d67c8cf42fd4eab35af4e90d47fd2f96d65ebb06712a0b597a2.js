function cov_cd469je36(){var path="/Users/peternaydenov/Sites/git-walk/src/main.js";var hash="f63d2f4f62aa3119656f7198d2f71674f83fd22e";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/peternaydenov/Sites/git-walk/src/main.js",statementMap:{"0":{start:{line:19,column:17},end:{line:19,column:36}},"1":{start:{line:21,column:19},end:{line:21,column:21}},"2":{start:{line:22,column:24},end:{line:22,column:30}},"3":{start:{line:23,column:15},end:{line:23,column:40}},"4":{start:{line:25,column:4},end:{line:36,column:9}},"5":{start:{line:27,column:32},end:{line:27,column:43}},"6":{start:{line:28,column:32},end:{line:28,column:86}},"7":{start:{line:29,column:32},end:{line:29,column:37}},"8":{start:{line:31,column:32},end:{line:31,column:43}},"9":{start:{line:32,column:32},end:{line:32,column:86}},"10":{start:{line:33,column:32},end:{line:33,column:37}},"11":{start:{line:35,column:32},end:{line:35,column:45}},"12":{start:{line:37,column:4},end:{line:37,column:50}},"13":{start:{line:37,column:37},end:{line:37,column:48}},"14":{start:{line:38,column:4},end:{line:38,column:17}},"15":{start:{line:44,column:4},end:{line:44,column:55}},"16":{start:{line:44,column:41},end:{line:44,column:55}},"17":{start:{line:45,column:4},end:{line:45,column:56}},"18":{start:{line:45,column:41},end:{line:45,column:56}},"19":{start:{line:46,column:4},end:{line:46,column:19}},"20":{start:{line:52,column:4},end:{line:52,column:67}},"21":{start:{line:59,column:24},end:{line:59,column:28}},"22":{start:{line:60,column:27},end:{line:60,column:31}},"23":{start:{line:62,column:4},end:{line:66,column:9}},"24":{start:{line:62,column:44},end:{line:62,column:66}},"25":{start:{line:63,column:9},end:{line:66,column:9}},"26":{start:{line:64,column:16},end:{line:64,column:41}},"27":{start:{line:65,column:16},end:{line:65,column:44}},"28":{start:{line:67,column:4},end:{line:67,column:42}},"29":{start:{line:74,column:19},end:{line:74,column:22}},"30":{start:{line:75,column:42},end:{line:75,column:50}},"31":{start:{line:78,column:15},end:{line:78,column:39}},"32":{start:{line:79,column:4},end:{line:109,column:14}},"33":{start:{line:81,column:33},end:{line:81,column:54}},"34":{start:{line:82,column:33},end:{line:82,column:44}},"35":{start:{line:84,column:20},end:{line:90,column:24}},"36":{start:{line:85,column:32},end:{line:89,column:37}},"37":{start:{line:86,column:40},end:{line:86,column:94}},"38":{start:{line:87,column:40},end:{line:87,column:67}},"39":{start:{line:87,column:61},end:{line:87,column:67}},"40":{start:{line:88,column:40},end:{line:88,column:63}},"41":{start:{line:92,column:20},end:{line:100,column:25}},"42":{start:{line:93,column:36},end:{line:96,column:41}},"43":{start:{line:94,column:44},end:{line:94,column:59}},"44":{start:{line:95,column:44},end:{line:95,column:50}},"45":{start:{line:97,column:49},end:{line:97,column:93}},"46":{start:{line:98,column:36},end:{line:98,column:66}},"47":{start:{line:98,column:60},end:{line:98,column:66}},"48":{start:{line:99,column:36},end:{line:99,column:54}},"49":{start:{line:101,column:20},end:{line:104,column:24}},"50":{start:{line:102,column:28},end:{line:102,column:42}},"51":{start:{line:103,column:28},end:{line:103,column:118}},"52":{start:{line:105,column:20},end:{line:108,column:25}},"53":{start:{line:106,column:28},end:{line:106,column:42}},"54":{start:{line:107,column:28},end:{line:107,column:117}},"55":{start:{line:114,column:0},end:{line:114,column:21}}},fnMap:{"0":{name:"walk",decl:{start:{line:17,column:10},end:{line:17,column:14}},loc:{start:{line:17,column:36},end:{line:39,column:1}},line:17},"1":{name:"findType",decl:{start:{line:43,column:9},end:{line:43,column:17}},loc:{start:{line:43,column:24},end:{line:47,column:2}},line:43},"2":{name:"generateList",decl:{start:{line:51,column:10},end:{line:51,column:22}},loc:{start:{line:51,column:69},end:{line:53,column:1}},line:51},"3":{name:"readCallback",decl:{start:{line:57,column:9},end:{line:57,column:21}},loc:{start:{line:57,column:35},end:{line:68,column:1}},line:57},"4":{name:"copyObject",decl:{start:{line:72,column:9},end:{line:72,column:19}},loc:{start:{line:72,column:67},end:{line:110,column:1}},line:72},"5":{name:"(anonymous_5)",decl:{start:{line:79,column:19},end:{line:79,column:20}},loc:{start:{line:79,column:24},end:{line:109,column:13}},line:79}},branchMap:{"0":{loc:{start:{line:25,column:4},end:{line:36,column:9}},type:"switch",locations:[{start:{line:26,column:12},end:{line:29,column:37}},{start:{line:30,column:12},end:{line:33,column:37}},{start:{line:34,column:12},end:{line:35,column:45}}],line:25},"1":{loc:{start:{line:44,column:4},end:{line:44,column:55}},type:"if",locations:[{start:{line:44,column:4},end:{line:44,column:55}},{start:{line:44,column:4},end:{line:44,column:55}}],line:44},"2":{loc:{start:{line:45,column:4},end:{line:45,column:56}},type:"if",locations:[{start:{line:45,column:4},end:{line:45,column:56}},{start:{line:45,column:4},end:{line:45,column:56}}],line:45},"3":{loc:{start:{line:62,column:4},end:{line:66,column:9}},type:"if",locations:[{start:{line:62,column:4},end:{line:66,column:9}},{start:{line:62,column:4},end:{line:66,column:9}}],line:62},"4":{loc:{start:{line:63,column:9},end:{line:66,column:9}},type:"if",locations:[{start:{line:63,column:9},end:{line:66,column:9}},{start:{line:63,column:9},end:{line:66,column:9}}],line:63},"5":{loc:{start:{line:84,column:20},end:{line:90,column:24}},type:"if",locations:[{start:{line:84,column:20},end:{line:90,column:24}},{start:{line:84,column:20},end:{line:90,column:24}}],line:84},"6":{loc:{start:{line:85,column:32},end:{line:89,column:37}},type:"if",locations:[{start:{line:85,column:32},end:{line:89,column:37}},{start:{line:85,column:32},end:{line:89,column:37}}],line:85},"7":{loc:{start:{line:87,column:40},end:{line:87,column:67}},type:"if",locations:[{start:{line:87,column:40},end:{line:87,column:67}},{start:{line:87,column:40},end:{line:87,column:67}}],line:87},"8":{loc:{start:{line:92,column:20},end:{line:100,column:25}},type:"if",locations:[{start:{line:92,column:20},end:{line:100,column:25}},{start:{line:92,column:20},end:{line:100,column:25}}],line:92},"9":{loc:{start:{line:93,column:36},end:{line:96,column:41}},type:"if",locations:[{start:{line:93,column:36},end:{line:96,column:41}},{start:{line:93,column:36},end:{line:96,column:41}}],line:93},"10":{loc:{start:{line:98,column:36},end:{line:98,column:66}},type:"if",locations:[{start:{line:98,column:36},end:{line:98,column:66}},{start:{line:98,column:36},end:{line:98,column:66}}],line:98},"11":{loc:{start:{line:101,column:20},end:{line:104,column:24}},type:"if",locations:[{start:{line:101,column:20},end:{line:104,column:24}},{start:{line:101,column:20},end:{line:104,column:24}}],line:101},"12":{loc:{start:{line:105,column:20},end:{line:108,column:25}},type:"if",locations:[{start:{line:105,column:20},end:{line:108,column:25}},{start:{line:105,column:20},end:{line:108,column:25}}],line:105}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0,0],"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"f63d2f4f62aa3119656f7198d2f71674f83fd22e"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_cd469je36=function(){return actualCoverage;};}return actualCoverage;}cov_cd469je36();/**
 *     walk
 * 
 *     Alternative of deep-copy that provides much better control during creation of immutable 
 *     copies of javascript data structures. 
 *     Library is using 'generator functions'. If support for old browsers is required, 
 *     add a polyfill for 'generators'.
 * 
 *     History notes:
 *        - Development started on March 2nd, 2022
 *        - Published on GitHub for first time: March 4th, 2022
 *        - Object callback. May 23th, 2022
 */function walk(origin,callback){cov_cd469je36().f[0]++;let type=(cov_cd469je36().s[0]++,findType(origin)),result,extend=(cov_cd469je36().s[1]++,[]),breadcrumbs=(cov_cd469je36().s[2]++,'root'),cb=(cov_cd469je36().s[3]++,readCallback(callback));cov_cd469je36().s[4]++;switch(type){case'array':cov_cd469je36().b[0][0]++;cov_cd469je36().s[5]++;result=[];cov_cd469je36().s[6]++;copyObject(origin,result,extend,cb,breadcrumbs);cov_cd469je36().s[7]++;break;case'object':cov_cd469je36().b[0][1]++;cov_cd469je36().s[8]++;result={};cov_cd469je36().s[9]++;copyObject(origin,result,extend,cb,breadcrumbs);cov_cd469je36().s[10]++;break;case'simple':cov_cd469je36().b[0][2]++;cov_cd469je36().s[11]++;return origin;}// switch type
cov_cd469je36().s[12]++;for(const plus of extend){cov_cd469je36().s[13]++;plus.next();}cov_cd469je36().s[14]++;return result;}// walk func.
function findType(x){cov_cd469je36().f[1]++;cov_cd469je36().s[15]++;if(x instanceof Array){cov_cd469je36().b[1][0]++;cov_cd469je36().s[16]++;return'array';}else{cov_cd469je36().b[1][1]++;}cov_cd469je36().s[17]++;if(typeof x==='object'){cov_cd469je36().b[2][0]++;cov_cd469je36().s[18]++;return'object';}else{cov_cd469je36().b[2][1]++;}cov_cd469je36().s[19]++;return'simple';}// findType func.
function*generateList(location,data,ex,callback,breadcrumbs){cov_cd469je36().f[2]++;cov_cd469je36().s[20]++;yield copyObject(data,location,ex,callback,breadcrumbs);}// generateList func.
function readCallback(callback){cov_cd469je36().f[3]++;let keyCallback=(cov_cd469je36().s[21]++,null),objectCallback=(cov_cd469je36().s[22]++,null);cov_cd469je36().s[23]++;if(typeof callback==='function'){cov_cd469je36().b[3][0]++;cov_cd469je36().s[24]++;keyCallback=callback;}else{cov_cd469je36().b[3][1]++;cov_cd469je36().s[25]++;if(callback instanceof Array){cov_cd469je36().b[4][0]++;cov_cd469je36().s[26]++;keyCallback=callback[0];cov_cd469je36().s[27]++;objectCallback=callback[1];}else{cov_cd469je36().b[4][1]++;}}cov_cd469je36().s[28]++;return[keyCallback,objectCallback];}// readCallback func.
function copyObject(obj,result,extend,callback,breadcrumbs){cov_cd469je36().f[4]++;let resource=(cov_cd469je36().s[29]++,obj),[keyCallback,objectCallback]=(cov_cd469je36().s[30]++,callback);let keys=(cov_cd469je36().s[31]++,Object.keys(resource));cov_cd469je36().s[32]++;keys.forEach(k=>{cov_cd469je36().f[5]++;let type=(cov_cd469je36().s[33]++,findType(resource[k])),obj=(cov_cd469je36().s[34]++,resource[k]);cov_cd469je36().s[35]++;if(type!=='simple'){cov_cd469je36().b[5][0]++;cov_cd469je36().s[36]++;if(objectCallback){cov_cd469je36().b[6][0]++;cov_cd469je36().s[37]++;obj=objectCallback(obj,k,`${breadcrumbs}/${k}`);cov_cd469je36().s[38]++;if(obj==null){cov_cd469je36().b[7][0]++;cov_cd469je36().s[39]++;return;}else{cov_cd469je36().b[7][1]++;}cov_cd469je36().s[40]++;type=findType(obj);}else{cov_cd469je36().b[6][1]++;}}else{cov_cd469je36().b[5][1]++;}cov_cd469je36().s[41]++;if(type==='simple'){cov_cd469je36().b[8][0]++;cov_cd469je36().s[42]++;if(!keyCallback){cov_cd469je36().b[9][0]++;cov_cd469je36().s[43]++;result[k]=obj;cov_cd469je36().s[44]++;return;}else{cov_cd469je36().b[9][1]++;}let keyRes=(cov_cd469je36().s[45]++,keyCallback(obj,k,`${breadcrumbs}/${k}`));cov_cd469je36().s[46]++;if(keyRes==null){cov_cd469je36().b[10][0]++;cov_cd469je36().s[47]++;return;}else{cov_cd469je36().b[10][1]++;}cov_cd469je36().s[48]++;result[k]=keyRes;}else{cov_cd469je36().b[8][1]++;}cov_cd469je36().s[49]++;if(type==='object'){cov_cd469je36().b[11][0]++;cov_cd469je36().s[50]++;result[k]={};cov_cd469je36().s[51]++;extend.push(generateList(result[k],obj,extend,callback,`${breadcrumbs}/${k}`));}else{cov_cd469je36().b[11][1]++;}cov_cd469je36().s[52]++;if(type==='array'){cov_cd469je36().b[12][0]++;cov_cd469je36().s[53]++;result[k]=[];cov_cd469je36().s[54]++;extend.push(generateList(result[k],obj,extend,callback,`${breadcrumbs}/${k}`));}else{cov_cd469je36().b[12][1]++;}});}// copyObject func.
cov_cd469je36().s[55]++;module.exports=walk;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJ3YWxrIiwib3JpZ2luIiwiY2FsbGJhY2siLCJ0eXBlIiwiZmluZFR5cGUiLCJyZXN1bHQiLCJleHRlbmQiLCJicmVhZGNydW1icyIsImNiIiwicmVhZENhbGxiYWNrIiwiY29weU9iamVjdCIsInBsdXMiLCJuZXh0IiwieCIsIkFycmF5IiwiZ2VuZXJhdGVMaXN0IiwibG9jYXRpb24iLCJkYXRhIiwiZXgiLCJrZXlDYWxsYmFjayIsIm9iamVjdENhbGxiYWNrIiwib2JqIiwicmVzb3VyY2UiLCJrZXlzIiwiT2JqZWN0IiwiZm9yRWFjaCIsImsiLCJrZXlSZXMiLCJwdXNoIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VzIjpbIm1haW4uanMiXSwic291cmNlc0NvbnRlbnQiOlsiXG4vKipcbiAqICAgICB3YWxrXG4gKiBcbiAqICAgICBBbHRlcm5hdGl2ZSBvZiBkZWVwLWNvcHkgdGhhdCBwcm92aWRlcyBtdWNoIGJldHRlciBjb250cm9sIGR1cmluZyBjcmVhdGlvbiBvZiBpbW11dGFibGUgXG4gKiAgICAgY29waWVzIG9mIGphdmFzY3JpcHQgZGF0YSBzdHJ1Y3R1cmVzLiBcbiAqICAgICBMaWJyYXJ5IGlzIHVzaW5nICdnZW5lcmF0b3IgZnVuY3Rpb25zJy4gSWYgc3VwcG9ydCBmb3Igb2xkIGJyb3dzZXJzIGlzIHJlcXVpcmVkLCBcbiAqICAgICBhZGQgYSBwb2x5ZmlsbCBmb3IgJ2dlbmVyYXRvcnMnLlxuICogXG4gKiAgICAgSGlzdG9yeSBub3RlczpcbiAqICAgICAgICAtIERldmVsb3BtZW50IHN0YXJ0ZWQgb24gTWFyY2ggMm5kLCAyMDIyXG4gKiAgICAgICAgLSBQdWJsaXNoZWQgb24gR2l0SHViIGZvciBmaXJzdCB0aW1lOiBNYXJjaCA0dGgsIDIwMjJcbiAqICAgICAgICAtIE9iamVjdCBjYWxsYmFjay4gTWF5IDIzdGgsIDIwMjJcbiAqL1xuXG5cbiBmdW5jdGlvbiB3YWxrICggb3JpZ2luLCBjYWxsYmFjayApIHtcbiAgICBsZXQgXG4gICAgICAgICAgdHlwZSA9IGZpbmRUeXBlICggb3JpZ2luIClcbiAgICAgICAgLCByZXN1bHRcbiAgICAgICAgLCBleHRlbmQgPSBbXVxuICAgICAgICAsIGJyZWFkY3J1bWJzID0gJ3Jvb3QnXG4gICAgICAgICwgY2IgPSByZWFkQ2FsbGJhY2sgKCBjYWxsYmFjayApXG4gICAgICAgIDtcbiAgICBzd2l0Y2ggKCB0eXBlICkge1xuICAgICAgICAgICAgY2FzZSAnYXJyYXknICA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IFtdXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlPYmplY3QgKCBvcmlnaW4sIHJlc3VsdCwgZXh0ZW5kLCBjYiwgYnJlYWRjcnVtYnMgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnb2JqZWN0JyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHt9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvcHlPYmplY3QgKCBvcmlnaW4sIHJlc3VsdCwgZXh0ZW5kLCBjYiwgYnJlYWRjcnVtYnMgKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVha1xuICAgICAgICAgICAgY2FzZSAnc2ltcGxlJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5cbiAgICAgICAgfSAvLyBzd2l0Y2ggdHlwZVxuICAgIGZvciAoIGNvbnN0IHBsdXMgb2YgZXh0ZW5kICkgeyAgIHBsdXMubmV4dCgpIH1cbiAgICByZXR1cm4gcmVzdWx0XG59IC8vIHdhbGsgZnVuYy5cblxuXG5cbmZ1bmN0aW9uIGZpbmRUeXBlICggeCApIHtcbiAgICBpZiAoIHggaW5zdGFuY2VvZiBBcnJheSAgICAgICAgICAgICkgcmV0dXJuICdhcnJheSdcbiAgICBpZiAoIHR5cGVvZiB4ID09PSAnb2JqZWN0JyAgICAgICAgICkgcmV0dXJuICdvYmplY3QnXG4gICAgcmV0dXJuICdzaW1wbGUnXG4gfSAvLyBmaW5kVHlwZSBmdW5jLlxuXG5cblxuZnVuY3Rpb24qIGdlbmVyYXRlTGlzdCAoIGxvY2F0aW9uLCBkYXRhLCBleCwgY2FsbGJhY2ssIGJyZWFkY3J1bWJzICkge1xuICAgIHlpZWxkIGNvcHlPYmplY3QgKCBkYXRhICwgbG9jYXRpb24sIGV4LCBjYWxsYmFjaywgYnJlYWRjcnVtYnMgKSAgXG59IC8vIGdlbmVyYXRlTGlzdCBmdW5jLlxuXG5cblxuZnVuY3Rpb24gcmVhZENhbGxiYWNrICggY2FsbGJhY2sgKSB7XG4gICAgbGV0IFxuICAgICAgICAgIGtleUNhbGxiYWNrID0gbnVsbFxuICAgICAgICAsIG9iamVjdENhbGxiYWNrID0gbnVsbFxuICAgICAgICA7XG4gICAgaWYgKCB0eXBlb2YgY2FsbGJhY2sgPT09ICdmdW5jdGlvbicgKSAgIGtleUNhbGxiYWNrID0gY2FsbGJhY2tcbiAgICBlbHNlIGlmICggY2FsbGJhY2sgaW5zdGFuY2VvZiBBcnJheSApIHtcbiAgICAgICAgICAgICAgICBrZXlDYWxsYmFjayA9IGNhbGxiYWNrWzBdXG4gICAgICAgICAgICAgICAgb2JqZWN0Q2FsbGJhY2sgPSBjYWxsYmFja1sxXVxuICAgICAgICB9XG4gICAgcmV0dXJuIFsga2V5Q2FsbGJhY2ssIG9iamVjdENhbGxiYWNrIF1cbn0gLy8gcmVhZENhbGxiYWNrIGZ1bmMuXG5cblxuXG5mdW5jdGlvbiBjb3B5T2JqZWN0ICggb2JqLCByZXN1bHQsIGV4dGVuZCwgY2FsbGJhY2ssIGJyZWFkY3J1bWJzICkge1xuICAgIGxldCBcbiAgICAgICAgcmVzb3VyY2UgPSBvYmpcbiAgICAgICwgWyBrZXlDYWxsYmFjaywgb2JqZWN0Q2FsbGJhY2sgXSA9IGNhbGxiYWNrXG4gICAgICA7XG5cbiAgICBsZXQga2V5cyA9IE9iamVjdC5rZXlzICggcmVzb3VyY2UgKTtcbiAgICBrZXlzLmZvckVhY2ggKCBrID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gZmluZFR5cGUocmVzb3VyY2Vba10pXG4gICAgICAgICAgICAgICAgICAgICAgICAsIG9iaiAgPSByZXNvdXJjZVtrXVxuICAgICAgICAgICAgICAgICAgICAgICAgO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGUgIT09ICdzaW1wbGUnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIG9iamVjdENhbGxiYWNrICkgeyAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqID0gb2JqZWN0Q2FsbGJhY2sgKCBvYmosIGssIGAke2JyZWFkY3J1bWJzfS8ke2t9YCApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBvYmogPT0gbnVsbCApICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IGZpbmRUeXBlICggb2JqIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdHlwZSA9PT0gJ3NpbXBsZScgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICFrZXlDYWxsYmFjayApIHsgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRba10gPSBvYmpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGtleVJlcyA9IGtleUNhbGxiYWNrICggb2JqLCBrLCBgJHticmVhZGNydW1ic30vJHtrfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBrZXlSZXMgPT0gbnVsbCApICAgcmV0dXJuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRba10gPSBrZXlSZXNcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlID09PSAnb2JqZWN0JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRba10gPSB7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZC5wdXNoICggZ2VuZXJhdGVMaXN0ICggcmVzdWx0W2tdLCBvYmosIGV4dGVuZCwgY2FsbGJhY2ssIGAke2JyZWFkY3J1bWJzfS8ke2t9YCApICAgKVxuICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICggdHlwZSA9PT0gJ2FycmF5JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHRba10gPSBbXVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dGVuZC5wdXNoICggZ2VuZXJhdGVMaXN0KCByZXN1bHRba10sIG9iaiwgZXh0ZW5kLCBjYWxsYmFjaywgYCR7YnJlYWRjcnVtYnN9LyR7a31gICkgICApXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxufSAvLyBjb3B5T2JqZWN0IGZ1bmMuXG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IHdhbGtcblxuXG4iXSwibWFwcGluZ3MiOiI0bVBBZVk7eUZBZFo7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FHQyxRQUFTQSxLQUFULENBQWdCQyxNQUFoQixDQUF3QkMsUUFBeEIsQ0FBbUMsd0JBQ2hDLEdBQ01DLEtBQUkseUJBQUdDLFFBQVEsQ0FBR0gsTUFBSCxDQUFYLENBRFYs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